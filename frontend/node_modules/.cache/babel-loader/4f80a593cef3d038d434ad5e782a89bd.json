{"ast":null,"code":"import _slicedToArray from\"/opt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import Context from'../context';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import Nav from'react-bootstrap/Nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useContext=useContext(Context),authorization=_useContext.authorization;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];function handleClose(){setShow(false);};function handleShow(){setShow(true);};function saveAndClose(){console.log(email,password);var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:{'email':email,'password':password}};console.log(requestOptions);fetch('http://0.0.0.0:8080/auth/token/login/',requestOptions).then(function(response){return response.json();}).then(function(newToken){return authorization(newToken.auth_token);});}function handleShowAndStatus(){handleShow();}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsx(Nav.Link,{href:\"#deets\",onClick:handleShowAndStatus,children:\"Log In\"})}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,animation:true,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,className:\"modal-edited\",children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",onChange:function onChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",onChange:function onChange(event){return setPassword(event.target.value);}})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:saveAndClose.bind(null,email,password),children:\"Save Changes\"})]})]})]})});}export default Login;","map":{"version":3,"sources":["/opt/frontend/src/Authorization/Login.js"],"names":["React","useContext","useState","Context","Modal","Button","Form","Nav","Login","email","setEmail","password","setPassword","authorization","show","setShow","handleClose","handleShow","saveAndClose","console","log","requestOptions","method","headers","body","fetch","then","response","json","newToken","auth_token","handleShowAndStatus","event","target","value","bind"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react'\nimport Context from '../context'\n\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport Nav from 'react-bootstrap/Nav'\n\n\n function Login(){\n\n        const [email, setEmail] = useState(\"\")\n        const [password, setPassword] = useState('')\n        const {authorization} = useContext(Context)\n\n        const [show, setShow] = useState(false)\n        function handleClose (){setShow(false)};\n        function handleShow (){setShow(true)};\n        function saveAndClose (){\n            console.log(email, password)\n            const requestOptions = {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: ({'email' : email, 'password': password})\n            };\n            console.log(requestOptions)\n            fetch('http://0.0.0.0:8080/auth/token/login/', requestOptions)\n             .then(response => response.json())\n             .then(newToken => authorization(newToken.auth_token))\n\n        }\n        function handleShowAndStatus(){\n            handleShow()\n        }\n        return(\n            <React.Fragment>   \n                <>\n                <Nav>\n                    <Nav.Link href=\"#deets\" onClick={handleShowAndStatus}>Log In</Nav.Link>\n                    \n                </Nav>\n\n                    <Modal show={show} \n                           onHide={handleClose} \n                           animation={true}\n                           size=\"lg\" \n                           aria-labelledby=\"contained-modal-title-vcenter\" \n                           centered className=\"modal-edited\">\n                        \n                        <Modal.Body>\n                            <Form>\n                                \n                                    <Form.Group  controlId=\"formBasicName\">\n                                        <Form.Label>Email</Form.Label>\n                                        <Form.Control type=\"text\" onChange={event => setEmail(event.target.value)}/>\n\n                                    </Form.Group>\n\n                                    <Form.Group  controlId=\"formBasicPassword\">\n                                        <Form.Label>Password</Form.Label>\n                                        <Form.Control type=\"password\" onChange={event => setPassword(event.target.value)}/>\n\n                                    </Form.Group>\n\n                                   \n                                    \n                                </Form>\n                        </Modal.Body>\n                        <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Close\n                        </Button>\n                        <Button variant=\"primary\" onClick={saveAndClose.bind(null, email, password)}>\n                            Save Changes\n                        </Button>\n                        </Modal.Footer>\n                    </Modal>\n                    </>\n                \n            </React.Fragment>\n)\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}